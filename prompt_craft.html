<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PromptCraft</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
        }
        @keyframes gridScroll {
          0% { transform: translate(0, 0); }
          100% { transform: translate(50px, 50px); }
        }
        @keyframes pulse-glow {
          0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 255, 0.5), inset 0 0 20px rgba(0, 255, 255, 0.1); }
          50% { box-shadow: 0 0 40px rgba(0, 255, 255, 0.8), inset 0 0 30px rgba(0, 255, 255, 0.2); }
        }
        @keyframes shimmer {
          0% { background-position: -1000px 0; }
          100% { background-position: 1000px 0; }
        }
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
        }
        .holographic-border {
          position: relative;
          background: linear-gradient(45deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
          border: 1px solid rgba(0, 255, 255, 0.3);
          animation: pulse-glow 3s ease-in-out infinite;
        }
        .shimmer-effect {
          background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.3), transparent);
          background-size: 1000px 100%;
          animation: shimmer 3s infinite;
        }
        .neon-text {
          text-shadow: 0 0 10px currentColor, 0 0 20px currentColor, 0 0 30px currentColor;
        }
        .glass-morph {
          background: rgba(0, 0, 0, 0.7);
          backdrop-filter: blur(10px);
          -webkit-backdrop-filter: blur(10px);
          border: 1px solid rgba(0, 255, 255, 0.2);
        }
        .animate-in {
            animation: fadeIn 0.5s ease-out, slideIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(1rem); }
            to { transform: translateY(0); }
        }
        .hidden {
            display: none;
        }

        /* From Uiverse.io by chase2k25 */ 
        .hacker-button {
          position: relative;
          padding: 15px 30px;
          font-family: "Courier New", monospace;
          font-size: 20px;
          text-transform: uppercase;
          color: #ffcc00; /* Cheetah gold */
          background: #000;
          border: 2px solid #ffcc00;
          border-radius: 5px;
          cursor: pointer;
          overflow: hidden;
          transition: all 0.3s ease;
          z-index: 1;
        }

        /* Scan effect with cheetah speed */
        .hacker-button::before {
          content: "";
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(
            120deg,
            transparent,
            rgba(255, 204, 0, 0.3),
            transparent
          );
          animation: scan 2s linear infinite; /* Faster for cheetah theme */
        }

        /* Cheetah spots background */
        .hacker-button::after {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: radial-gradient(
              circle,
              rgba(255, 204, 0, 0.2) 10%,
              transparent 11%
            ),
            radial-gradient(
              circle at 70% 30%,
              rgba(255, 204, 0, 0.15) 8%,
              transparent 9%
            ),
            radial-gradient(
              circle at 20% 80%,
              rgba(255, 204, 0, 0.25) 7%,
              transparent 8%
            );
          background-size:
            20px 20px,
            25px 25px,
            15px 15px;
          opacity: 0;
          transition: opacity 0.3s ease;
          animation: spot-shift 3s infinite ease-in-out;
        }

        /* Pulse overlay */
        .hacker-button .overlay {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: radial-gradient(
            circle at center,
            rgba(255, 204, 0, 0.1) 0%,
            transparent 70%
          );
          opacity: 0;
          z-index: -1;
          animation: pulse 3s infinite ease-in-out;
        }

        /* Simulated particle effects (cheetah dust) */
        .particles {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          z-index: 0;
        }

        .particle {
          position: absolute;
          width: 5px;
          height: 5px;
          background: #ffcc00;
          border-radius: 50%;
          opacity: 0;
          transition: opacity 0.2s ease;
        }

        .particle-1 {
          top: 15%;
          left: 25%;
          animation: particle-move-1 1.8s infinite;
        }
        .particle-2 {
          top: 35%;
          left: 65%;
          animation: particle-move-2 2.2s infinite;
        }
        .particle-3 {
          top: 55%;
          left: 45%;
          animation: particle-move-3 1.6s infinite;
        }
        .particle-4 {
          top: 75%;
          left: 15%;
          animation: particle-move-4 2s infinite;
        }
        .particle-5 {
          top: 25%;
          left: 85%;
          animation: particle-move-5 2.1s infinite;
        }

        .click-particle {
          position: absolute;
          width: 7px;
          height: 7px;
          background: #ffcc00;
          border-radius: 50%;
          opacity: 0;
          z-index: 2;
        }

        .click-1 {
          top: 50%;
          left: 50%;
          animation: click-sparkle-1 0.5s ease-out;
        }
        .click-2 {
          top: 40%;
          left: 60%;
          animation: click-sparkle-2 0.5s ease-out;
        }
        .click-3 {
          top: 60%;
          left: 40%;
          animation: click-sparkle-3 0.5s ease-out;
        }
        .click-4 {
          top: 30%;
          left: 50%;
          animation: click-sparkle-4 0.5s ease-out;
        }

        /* Hover effects */
        .hacker-button:hover {
          box-shadow:
            0 0 20px #ffcc00,
            0 0 40px #ffcc00,
            inset 0 0 10px #ffcc00;
          transform: translateY(-5px) scale(1.05);
          color: #fff;
          animation: pounce 0.2s infinite;
        }

        .hacker-button:hover::after,
        .hacker-button:hover .overlay {
          opacity: 1;
        }

        .hacker-button:hover .particle {
          opacity: 0.8;
        }

        /* Active effects */
        .hacker-button:active {
          transform: scale(0.95);
          box-shadow: 0 0 10px #ffcc00;
          animation: none;
        }

        .hacker-button:active .click-particle {
          opacity: 1;
        }

        /* Text effects */
        .hacker-button span {
          position: relative;
          display: inline-block;
          transition: transform 0.1s;
        }

        .hacker-button:hover span {
          animation:
            glitch-text 0.3s linear infinite,
            claw-scratch 1s infinite;
        }

        /* Border animation */
        .hacker-button .border-anim {
          position: absolute;
          top: -2px;
          left: -2px;
          right: -2px;
          bottom: -2px;
          border: 2px dashed #ffcc00;
          opacity: 0.6;
          animation: border-leap 2s infinite linear;
        }

        /* Animations */
        @keyframes scan {
          0% {
            transform: translateX(-100%) skewX(15deg);
          }
          100% {
            transform: translateX(200%) skewX(-15deg);
          }
        }

        @keyframes glitch-text {
          0% {
            transform: translate(0);
          }
          20% {
            transform: translate(-3px, 2px);
          }
          40% {
            transform: translate(-2px, -3px);
          }
          60% {
            transform: translate(3px, 1px);
          }
          80% {
            transform: translate(2px, -2px);
          }
          100% {
            transform: translate(0);
          }
        }

        @keyframes spot-shift {
          0% {
            transform: translate(0, 0);
          }
          50% {
            transform: translate(5px, -5px);
          }
          100% {
            transform: translate(0, 0);
          }
        }

        @keyframes pulse {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          50% {
            transform: scale(1.3);
            opacity: 0.4;
          }
          100% {
            transform: scale(0.9);
            opacity: 0;
          }
        }

        @keyframes pounce {
          0% {
            transform: translateY(-5px) scale(1.05);
          }
          50% {
            transform: translateY(-7px) scale(1.06);
          }
          100% {
            transform: translateY(-5px) scale(1.05);
          }
        }

        @keyframes claw-scratch {
          0% {
            opacity: 1;
          }
          15% {
            opacity: 0.8;
            transform: skewX(5deg);
          }
          30% {
            opacity: 1;
            transform: skewX(-5deg);
          }
          45% {
            opacity: 0.7;
          }
          60% {
            opacity: 1;
          }
          100% {
            opacity: 1;
          }
        }

        @keyframes border-leap {
          0% {
            transform: scale(1) translateX(10%);
          }
          40% {
            transform: scale(1) translateX(20%);
          }
          60% {
            transform: scale(1) translateX(35%);
          }
          100% {
            transform: scale(1) translateX(100%);
          }
        }

        @keyframes particle-move-1 {
          0% {
            transform: translate(0, 0);
            opacity: 0.8;
          }
          50% {
            transform: translate(12px, -8px);
            opacity: 0.4;
          }
          100% {
            transform: translate(-6px, 4px);
            opacity: 0.8;
          }
        }

        @keyframes particle-move-2 {
          0% {
            transform: translate(0, 0);
            opacity: 0.8;
          }
          50% {
            transform: translate(-10px, 6px);
            opacity: 0.5;
          }
          100% {
            transform: translate(5px, -12px);
            opacity: 0.8;
          }
        }

        @keyframes particle-move-3 {
          0% {
            transform: translate(0, 0);
            opacity: 0.8;
          }
          50% {
            transform: translate(7px, 10px);
            opacity: 0.6;
          }
          100% {
            transform: translate(-7px, -5px);
            opacity: 0.8;
          }
        }

        @keyframes particle-move-4 {
          0% {
            transform: translate(0, 0);
            opacity: 0.8;
          }
          50% {
            transform: translate(-12px, -10px);
            opacity: 0.4;
          }
          100% {
            transform: translate(6px, 8px);
            opacity: 0.8;
          }
        }

        @keyframes particle-move-5 {
          0% {
            transform: translate(0, 0);
            opacity: 0.8;
          }
          50% {
            transform: translate(10px, -7px);
            opacity: 0.5;
          }
          100% {
            transform: translate(-5px, 6px);
            opacity: 0.8;
          }
        }

        @keyframes click-sparkle-1 {
          0% {
            transform: translate(0, 0);
            opacity: 1;
          }
          100% {
            transform: translate(25px, -25px);
            opacity: 0;
          }
        }

        @keyframes click-sparkle-2 {
          0% {
            transform: translate(0, 0);
            opacity: 1;
          }
          100% {
            transform: translate(-20px, -20px);
            opacity: 0;
          }
        }

        @keyframes click-sparkle-3 {
          0% {
            transform: translate(0, 0);
            opacity: 1;
          }
          100% {
            transform: translate(15px, 30px);
            opacity: 0;
          }
        }

        @keyframes click-sparkle-4 {
          0% {
            transform: translate(0, 0);
            opacity: 1;
          }
          100% {
            transform: translate(-15px, -25px);
            opacity: 0;
          }
        }

        /* Disabled state */
        .hacker-button:disabled,
        .hacker-button.disabled {
          opacity: 0.6;
          cursor: not-allowed;
          pointer-events: none;
        }

        .hacker-button:disabled:hover,
        .hacker-button.disabled:hover {
          transform: none;
          box-shadow: none;
          animation: none;
        }
    </style>
</head>
<body class="min-h-screen bg-black text-cyan-400 p-8 font-mono overflow-hidden relative">
    <!-- Animated background grid -->
    <div class="fixed inset-0 opacity-10 pointer-events-none">
        <div class="absolute inset-0" style="
          background-image: 
            linear-gradient(rgba(0, 255, 255, 0.3) 1px, transparent 1px),
            linear-gradient(90deg, rgba(0, 255, 255, 0.3) 1px, transparent 1px);
          background-size: 50px 50px;
          animation: gridScroll 20s linear infinite;
        "></div>
    </div>

    <!-- Header -->
    <div class="relative z-10 mb-8">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-10 h-10 text-pink-500 animate-pulse"><path d="M5 3v4"></path><path d="M19 17v4"></path><path d="M3 5h4"></path><path d="M17 19h4"></path><path d="M14 3h4v4h-4z"></path><path d="M10 17h4v4h-4z"></path><path d="M17 3l-1.5 1.5"></path><path d="M3 17l1.5 1.5"></path><path d="M7 19l-1.5-1.5"></path><path d="M21 7l-1.5-1.5"></path></svg>
                <h1 class="text-5xl font-bold neon-text bg-gradient-to-r from-cyan-400 via-pink-500 to-green-400 bg-clip-text text-transparent">
                    PromptCraft
                </h1>
                <div class="text-xs text-pink-400 animate-pulse">v3.0.1</div>
            </div>
            <button id="settings-button" class="glass-morph p-3 rounded-lg hover:bg-cyan-900/30 transition-all duration-300 group" title="Settings">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 transition-transform duration-500 group-hover:text-pink-400"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2.73l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2.73l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
            </button>
        </div>
        <p class="text-sm text-green-400 mt-2 ml-14">Neural Prompt Enhancement System</p>
    </div>

    <!-- Settings Panel -->
    <div id="settings-panel" class="relative z-10 mb-6 glass-morph p-6 rounded-lg border-pink-500/30 hidden animate-in">
        <h3 class="text-xl font-bold text-pink-400 mb-4 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 mr-2"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2.73l-.15-.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2.73l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
            System Configuration
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <label class="flex items-center space-x-3 cursor-pointer group">
                <input id="animate-checkbox" type="checkbox" checked class="w-5 h-5 accent-cyan-400" />
                <span class="text-sm group-hover:text-cyan-300">Animate Output</span>
            </label>
            <label class="flex items-center space-x-3 cursor-pointer group">
                <input id="tooltips-checkbox" type="checkbox" checked class="w-5 h-5 accent-pink-400" />
                <span class="text-sm group-hover:text-pink-300">Show Tooltips</span>
            </label>
            <label class="flex items-center space-x-3 cursor-pointer group">
                <input id="auto-enhance-checkbox" type="checkbox" class="w-5 h-5 accent-green-400" />
                <span class="text-sm group-hover:text-green-300">Auto-Enhance</span>
            </label>
        </div>
    </div>

    <!-- Control Panel -->
    <div class="relative z-10 grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <!-- Template Selector -->
        <div class="relative">
            <label class="block text-sm font-semibold text-cyan-400 mb-2 flex items-center">
                <span id="template-label-icon" class="w-4 h-4 mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2Z"></path><path d="M12 18a10 10 0 0 0-3.45-7.45A10 10 0 0 1 12 2Z"></path></svg>
                </span>
                Template Mode
                <span id="template-tooltip" class="inline-block" title="Select the type of prompt enhancement">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 ml-2 text-pink-400 cursor-help"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
                </span>
            </label>
            <div class="relative">
                <button id="template-dropdown-button" class="w-full glass-morph p-4 rounded-lg hover:bg-cyan-900/30 transition-all duration-300 flex items-center justify-between group">
                    <div class="flex items-center space-x-3">
                        <span id="template-button-icon" class="w-5 h-5 text-pink-400">
                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2Z"></path><path d="M12 18a10 10 0 0 0-3.45-7.45A10 10 0 0 1 12 2Z"></path></svg>
                        </span>
                        <span id="template-button-text" class="group-hover:text-cyan-300">General Expert 🧠</span>
                    </div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron w-5 h-5 transition-transform duration-300"><path d="m6 9 6 6 6-6"></path></svg>
                </button>
                <div id="template-dropdown-menu" class="absolute top-full mt-2 w-full glass-morph rounded-lg overflow-hidden border border-cyan-500/30 z-20 hidden">
                    </div>
            </div>
        </div>

        <!-- Model Selector -->
        <div class="relative">
            <label class="block text-sm font-semibold text-cyan-400 mb-2 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>
                Target Model
                <span id="model-tooltip" class="inline-block" title="Optimize prompt for specific AI model">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 ml-2 text-pink-400 cursor-help"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
                </span>
            </label>
            <div class="relative">
                <button id="model-dropdown-button" class="w-full glass-morph p-4 rounded-lg hover:bg-cyan-900/30 transition-all duration-300 flex items-center justify-between group">
                    <span id="model-button-text" class="group-hover:text-cyan-300">Default</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron w-5 h-5 transition-transform duration-300"><path d="m6 9 6 6 6-6"></path></svg>
                </button>
                <div id="model-dropdown-menu" class="absolute top-full mt-2 w-full glass-morph rounded-lg overflow-hidden border border-cyan-500/30 z-20 hidden">
                    </div>
            </div>
        </div>
    </div>

    <!-- Input Field -->
    <div class="relative z-10 mb-6">
        <label class="block text-sm font-semibold text-cyan-400 mb-2 flex items-center justify-between">
            <span>Input Prompt</span>
            <span id="char-count" class="text-xs text-pink-400">0 characters</span>
        </label>
        <div class="holographic-border rounded-lg p-1">
            <textarea id="user-input" placeholder="Enter your prompt here... The system will analyze and enhance it." class="w-full h-40 bg-black/80 text-green-400 p-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none placeholder-green-800 font-mono" style="caret-color: #00ff00;"></textarea>
        </div>
    </div>

    <!-- Enhance Button -->
    <div class="relative z-10 mb-6 flex justify-center">
        <button id="enhance-button" class="hacker-button">
            <span>ENHANCE PROMPT</span>
            <div class="overlay"></div>
            <div class="border-anim"></div>
            <div class="particles">
                <div class="particle particle-1"></div>
                <div class="particle particle-2"></div>
                <div class="particle particle-3"></div>
                <div class="particle particle-4"></div>
                <div class="particle particle-5"></div>
            </div>
        </button>
    </div>

    <!-- Output Field -->
    <div id="output-container" class="relative z-10 hidden">
        <div class="flex items-center justify-between mb-2">
            <label class="block text-sm font-semibold text-cyan-400 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                Enhanced Output
            </label>
            <button id="copy-button" class="glass-morph px-4 py-2 rounded-lg hover:bg-pink-900/30 transition-all duration-300 flex items-center space-x-2 group">
                <span id="copy-button-content">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 group-hover:text-pink-400 inline-block"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>
                    <span class="group-hover:text-pink-400">Copy</span>
                </span>
            </button>
        </div>
        <div class="holographic-border rounded-lg p-1">
            <div id="enhanced-prompt-output" class="bg-black/80 text-pink-400 p-6 rounded-lg h-96 overflow-y-auto font-mono text-sm whitespace-pre-wrap" style="scrollbar-width: thin; scrollbar-color: #ec4899 #000000;">
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="relative z-10 mt-8 text-center text-xs text-cyan-600">
        <p>© 2025 PromptCraft Neural Systems • Powered by Advanced Heuristic Analysis</p>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- STATE VARIABLES ---
    let userInput = '';
    let selectedTemplate = 'general';
    let selectedModel = 'default';
    let enhancedPrompt = '';
    let copied = false;
    let showSettings = false;
    let animateOutput = true;
    let showTooltips = true;
    let autoEnhance = false;
    let charCount = 0;
    let isProcessing = false;
    let showModelDropdown = false;
    let showTemplateDropdown = false;
    let autoEnhanceTimer = null;

    // --- CONFIGURATION ---
    const config = {
        templates: {
          code: {
            name: "Code Generation 💻",
            icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>`,
            content: `**Role:** You are a senior software engineer with expertise in multiple programming paradigms and languages.\n**Task:** Write code for: "{user_input}"\n\n**Requirements:**\n1. Robust, efficient, and best-practice code.\n2. Clear comments for complex logic.\n3. Comprehensive error handling.\n4. Consideration of edge cases.\n{model_instructions}`
          },
          creative: {
            name: "Creative Writing ✍️",
            icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20.9_0.7 14.3_2.1 12.9_7.1 17.9_16.9 8.1 18.3 9.5 7.1 20.9 2.1 15.9 0.7 14.5Z"></path></svg>`,
            content: `**Role:** You are a skilled creative writer with mastery over narrative techniques and stylistic flourishes.\n**Task:** Write for the prompt: "{user_input}"\n\n**Tone and Style:** Engaging and immersive\n**Audience:** Discerning readers who appreciate nuanced prose\n{model_instructions}`
          },
          explain: {
            name: "Detailed Explanation 🎓",
            icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2Z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7Z"></path></svg>`,
            content: `**Role:** You are a master educator capable of distilling complex concepts into comprehensible explanations.\n**Task:** Explain the topic: "{user_input}"\n\n**Target Audience:** Intelligent learners seeking depth\n**Instructions:**\n- Use clear analogies where appropriate.\n- Build understanding progressively.\n- Avoid unnecessary jargon.\n{model_instructions}`
          },
          general: {
            name: "General Expert 🧠",
            icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2Z"></path><path d="M12 18a10 10 0 0 0-3.45-7.45A10 10 0 0 1 12 2Z"></path></svg>`,
            content: `**Role:** You are a world-class expert with comprehensive knowledge across domains.\n**Task:** Fulfill the request: "{user_input}"\n\n**Constraints:**\n- Provide a well-structured response.\n- Verify facts and maintain accuracy.\n- Consider multiple perspectives.\n{model_instructions}`
          }
        },
        model_instructions: {
          default: "**Output Format:** Provide a clear, well-formatted response using markdown where appropriate.",
          gpt4: "**For GPT-4:** Leverage your advanced reasoning capabilities and multi-step analytical processes.",
          claude: "**For Claude:** Utilize your nuanced understanding and contextual awareness to provide helpful, precise responses.",
          gemini: "**For Gemini:** Apply your multimodal reasoning and comprehensive analytical capabilities."
        },
        keywords: {
          code: ["code", "python", "javascript", "function", "script", "sql", "program", "algorithm"],
          creative: ["write", "create", "poem", "story", "email", "narrative", "compose"],
          explain: ["explain", "what is", "how does", "summarize", "describe", "clarify"]
        }
    };

    const models = [
        { id: 'default', name: 'Default', color: 'from-cyan-400 to-blue-400' },
        { id: 'gpt4', name: 'GPT-4', color: 'from-green-400 to-emerald-400' },
        { id: 'claude', name: 'Claude', color: 'from-pink-400 to-rose-400' },
        { id: 'gemini', name: 'Gemini', color: 'from-purple-400 to-violet-400' }
    ];

    // --- DOM ELEMENTS ---
    const settingsButton = document.getElementById('settings-button');
    const settingsPanel = document.getElementById('settings-panel');
    const animateCheckbox = document.getElementById('animate-checkbox');
    const tooltipsCheckbox = document.getElementById('tooltips-checkbox');
    const autoEnhanceCheckbox = document.getElementById('auto-enhance-checkbox');
    const templateDropdownButton = document.getElementById('template-dropdown-button');
    const templateDropdownMenu = document.getElementById('template-dropdown-menu');
    const modelDropdownButton = document.getElementById('model-dropdown-button');
    const modelDropdownMenu = document.getElementById('model-dropdown-menu');
    const userInputEl = document.getElementById('user-input');
    const charCountEl = document.getElementById('char-count');
    const enhanceButton = document.getElementById('enhance-button');
    const outputContainer = document.getElementById('output-container');
    const enhancedPromptOutput = document.getElementById('enhanced-prompt-output');
    const copyButton = document.getElementById('copy-button');
    const templateTooltip = document.getElementById('template-tooltip');
    const modelTooltip = document.getElementById('model-tooltip');
    const templateButtonText = document.getElementById('template-button-text');
    const templateButtonIcon = document.getElementById('template-button-icon');
    const templateLabelIcon = document.getElementById('template-label-icon');
    const modelButtonText = document.getElementById('model-button-text');

    // --- FUNCTIONS ---
    const detectTemplate = (input) => {
        const lower = input.toLowerCase();
        for (const [key, keywords] of Object.entries(config.keywords)) {
            if (keywords.some(kw => lower.includes(kw))) {
                return key;
            }
        }
        return 'general';
    };

    const handleEnhance = () => {
        if (!userInput.trim() || isProcessing) return;
        
        isProcessing = true;
        updateEnhanceButtonState();

        const detectedTemplate = detectTemplate(userInput);
        const template = config.templates[detectedTemplate].content;
        const modelInst = config.model_instructions[selectedModel];
        
        enhancedPrompt = template.replace("{user_input}", userInput)
                                 .replace("{model_instructions}", modelInst);
        
        setTimeout(() => {
            // Safely set content and show output
            enhancedPromptOutput.textContent = enhancedPrompt;
            outputContainer.classList.remove('hidden');
            if(animateOutput) {
                outputContainer.classList.add('animate-in');
            }
            enhancedPromptOutput.scrollTop = 0;
            isProcessing = false;
            updateEnhanceButtonState();
        }, 600);
    };

    const handleCopy = async () => {
        if (copied) return;
        
        try {
            await navigator.clipboard.writeText(enhancedPrompt);
            copied = true;
            const copyButtonContent = document.getElementById('copy-button-content');
            
            // Create success elements securely
            copyButtonContent.textContent = '';
            
            const successSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            successSvg.setAttribute('width', '24');
            successSvg.setAttribute('height', '24');
            successSvg.setAttribute('viewBox', '0 0 24 24');
            successSvg.setAttribute('fill', 'none');
            successSvg.setAttribute('stroke', 'currentColor');
            successSvg.setAttribute('stroke-width', '2');
            successSvg.setAttribute('stroke-linecap', 'round');
            successSvg.setAttribute('stroke-linejoin', 'round');
            successSvg.className = 'w-4 h-4 text-green-400 inline-block';
            
            const successPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            successPath.setAttribute('d', 'M20 6 9 17l-5-5');
            successSvg.appendChild(successPath);
            
            const successSpan = document.createElement('span');
            successSpan.className = 'text-green-400';
            successSpan.textContent = 'Copied!';
            
            copyButtonContent.appendChild(successSvg);
            copyButtonContent.appendChild(successSpan);
            
            setTimeout(() => {
                copied = false;
                
                // Reset to original content securely
                copyButtonContent.textContent = '';
                
                const originalSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                originalSvg.setAttribute('width', '24');
                originalSvg.setAttribute('height', '24');
                originalSvg.setAttribute('viewBox', '0 0 24 24');
                originalSvg.setAttribute('fill', 'none');
                originalSvg.setAttribute('stroke', 'currentColor');
                originalSvg.setAttribute('stroke-width', '2');
                originalSvg.setAttribute('stroke-linecap', 'round');
                originalSvg.setAttribute('stroke-linejoin', 'round');
                originalSvg.className = 'w-4 h-4 group-hover:text-pink-400 inline-block';
                
                const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                rect.setAttribute('width', '14');
                rect.setAttribute('height', '14');
                rect.setAttribute('x', '8');
                rect.setAttribute('y', '8');
                rect.setAttribute('rx', '2');
                rect.setAttribute('ry', '2');
                
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('d', 'M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2');
                
                originalSvg.appendChild(rect);
                originalSvg.appendChild(path);
                
                const originalSpan = document.createElement('span');
                originalSpan.className = 'group-hover:text-pink-400';
                originalSpan.textContent = 'Copy';
                
                copyButtonContent.appendChild(originalSvg);
                copyButtonContent.appendChild(originalSpan);
            }, 2000);
        } catch (err) {
            console.error('Copy failed:', err);
        }
    };

    const updateEnhanceButtonState = () => {
        const disabled = !userInput.trim() || isProcessing;
        if (disabled) {
            enhanceButton.classList.add('disabled');
        } else {
            enhanceButton.classList.remove('disabled');
        }
    };
    
    const populateModelDropdown = () => {
        modelDropdownMenu.textContent = ''; // Clear existing content securely
        models.forEach(model => {
            const button = document.createElement('button');
            button.className = `w-full p-4 flex items-center justify-between hover:bg-cyan-900/50 transition-all duration-200 ${selectedModel === model.id ? 'bg-cyan-900/30 border-l-4 border-pink-500' : ''}`;
            button.dataset.modelId = model.id;
            
            // Create elements securely without innerHTML
            const nameSpan = document.createElement('span');
            nameSpan.textContent = model.name;
            
            const colorDiv = document.createElement('div');
            colorDiv.className = `w-3 h-3 rounded-full bg-gradient-to-r ${model.color}`;
            
            button.appendChild(nameSpan);
            button.appendChild(colorDiv);
            
            button.addEventListener('click', () => {
                selectedModel = model.id;
                modelButtonText.textContent = model.name;
                showModelDropdown = false;
                render();
            });
            modelDropdownMenu.appendChild(button);
        });
    };
    
    const populateTemplateDropdown = () => {
        templateDropdownMenu.textContent = ''; // Clear existing content securely
        Object.entries(config.templates).forEach(([key, template]) => {
            const button = document.createElement('button');
            button.className = `w-full p-4 flex items-center space-x-3 hover:bg-cyan-900/50 transition-all duration-200 ${selectedTemplate === key ? 'bg-cyan-900/30 border-l-4 border-pink-500' : ''}`;
            button.dataset.templateId = key;
            
            // Create elements securely without innerHTML
            const iconSpan = document.createElement('span');
            iconSpan.className = 'w-5 h-5 text-pink-400';
            // Parse SVG icon safely
            const tempDiv = document.createElement('div');
            tempDiv.insertAdjacentHTML('afterbegin', template.icon);
            const svgElement = tempDiv.querySelector('svg');
            if (svgElement) {
                iconSpan.appendChild(svgElement);
            }
            
            const nameSpan = document.createElement('span');
            nameSpan.textContent = template.name;
            
            button.appendChild(iconSpan);
            button.appendChild(nameSpan);
            
            button.addEventListener('click', () => {
                selectedTemplate = key;
                templateButtonText.textContent = template.name;
                
                // Update button icons safely
                templateButtonIcon.textContent = '';
                templateLabelIcon.textContent = '';
                
                // Clone the SVG element for button icon
                if (svgElement) {
                    const buttonSvg = svgElement.cloneNode(true);
                    const labelSvg = svgElement.cloneNode(true);
                    templateButtonIcon.appendChild(buttonSvg);
                    templateLabelIcon.appendChild(labelSvg);
                }
                
                showTemplateDropdown = false;
                render();
            });
            templateDropdownMenu.appendChild(button);
        });
    };

    const render = () => {
        // Settings panel
        if (showSettings) {
            settingsPanel.classList.remove('hidden');
            settingsButton.firstElementChild.classList.add('rotate-180');
        } else {
            settingsPanel.classList.add('hidden');
            settingsButton.firstElementChild.classList.remove('rotate-180');
        }

        // Tooltips
        templateTooltip.style.display = showTooltips ? 'inline-block' : 'none';
        modelTooltip.style.display = showTooltips ? 'inline-block' : 'none';

        // Model Dropdown
        if (showModelDropdown) {
            modelDropdownMenu.classList.remove('hidden');
            modelDropdownButton.querySelector('.chevron').classList.add('rotate-180');
        } else {
            modelDropdownMenu.classList.add('hidden');
            modelDropdownButton.querySelector('.chevron').classList.remove('rotate-180');
        }
        
        // Template Dropdown
        if (showTemplateDropdown) {
            templateDropdownMenu.classList.remove('hidden');
            templateDropdownButton.querySelector('.chevron').classList.add('rotate-180');
        } else {
            templateDropdownMenu.classList.add('hidden');
            templateDropdownButton.querySelector('.chevron').classList.remove('rotate-180');
        }
        
        populateModelDropdown();
        populateTemplateDropdown();
    };

    // --- EVENT LISTENERS ---
    settingsButton.addEventListener('click', () => {
        showSettings = !showSettings;
        render();
    });

    animateCheckbox.addEventListener('change', (e) => animateOutput = e.target.checked);
    tooltipsCheckbox.addEventListener('change', (e) => {
        showTooltips = e.target.checked;
        render();
    });
    autoEnhanceCheckbox.addEventListener('change', (e) => autoEnhance = e.target.checked);

    templateDropdownButton.addEventListener('click', () => {
        showTemplateDropdown = !showTemplateDropdown;
        if(showTemplateDropdown) showModelDropdown = false; // Close other dropdown
        render();
    });

    modelDropdownButton.addEventListener('click', () => {
        showModelDropdown = !showModelDropdown;
        if(showModelDropdown) showTemplateDropdown = false; // Close other dropdown
        render();
    });

    userInputEl.addEventListener('input', (e) => {
        userInput = e.target.value;
        charCount = userInput.length;
        charCountEl.textContent = `${charCount} characters`;
        updateEnhanceButtonState();

        if (autoEnhanceTimer) clearTimeout(autoEnhanceTimer);
        if (autoEnhance && userInput.length > 10) {
            autoEnhanceTimer = setTimeout(handleEnhance, 1500);
        }
    });

    enhanceButton.addEventListener('click', handleEnhance);
    copyButton.addEventListener('click', handleCopy);

    // Close dropdowns when clicking outside
    document.addEventListener('click', (e) => {
        if (!templateDropdownButton.contains(e.target) && !templateDropdownMenu.contains(e.target)) {
            if (showTemplateDropdown) {
                showTemplateDropdown = false;
                render();
            }
        }
        if (!modelDropdownButton.contains(e.target) && !modelDropdownMenu.contains(e.target)) {
             if (showModelDropdown) {
                showModelDropdown = false;
                render();
            }
        }
    });

    // --- INITIALIZATION ---
    updateEnhanceButtonState();
    render();
});
</script>
</body>
</html>