# PromptCraft Secure Environment Configuration Example
# This file demonstrates secure secret management practices

# ============================================================================
# BASIC APPLICATION SETTINGS (Safe to store in environment)
# ============================================================================
PROMPTCRAFT_ENV=production
PROMPTCRAFT_DEBUG=false
PROMPTCRAFT_LOG_LEVEL=info

# File Paths (non-sensitive)
PROMPTCRAFT_CONFIG_DIR=/etc/promptcraft
PROMPTCRAFT_CONFIG_FILE=config.json

# Feature Flags (non-sensitive)
PROMPTCRAFT_ENABLE_ANALYTICS=true
PROMPTCRAFT_ENABLE_TELEMETRY=false
PROMPTCRAFT_ENABLE_CACHE=true

# ============================================================================
# SECRET STORE CONFIGURATION (References only, not actual secrets)
# ============================================================================

# AWS Secrets Manager
AWS_REGION=us-east-1
AWS_SECRETS_NAME=promptcraft/production/secrets
# Note: AWS credentials should come from IAM roles, not environment variables

# HashiCorp Vault
VAULT_ADDR=https://vault.company.com:8200
VAULT_NAMESPACE=promptcraft
VAULT_SECRET_PATH=promptcraft/config
# Note: VAULT_TOKEN should come from service authentication, not stored here

# Azure Key Vault
AZURE_KEY_VAULT_URL=https://promptcraft-kv.vault.azure.net/
# Note: Azure credentials should use Managed Identity or Service Principal

# Google Secret Manager
GCP_PROJECT_ID=promptcraft-production
GCP_SECRET_PREFIX=promptcraft
# Note: GCP credentials should use service account with minimal permissions

# ============================================================================
# KUBERNETES SECRET REFERENCES (for K8s deployments)
# ============================================================================
# These reference Kubernetes secrets, not actual values
API_KEY_SECRET_NAME=promptcraft-secrets
API_KEY_SECRET_KEY=api-key

DB_PASSWORD_SECRET_NAME=promptcraft-secrets
DB_PASSWORD_SECRET_KEY=db-password

# ============================================================================
# DOCKER SECRETS (for Docker Swarm/Compose)
# ============================================================================
# These reference Docker secret files, not actual values
API_KEY_FILE=/run/secrets/api_key
DB_PASSWORD_FILE=/run/secrets/db_password
ENCRYPTION_KEY_FILE=/run/secrets/encryption_key

# ============================================================================
# SECURITY SETTINGS (Safe configuration values)
# ============================================================================
PROMPTCRAFT_VALIDATE_INPUT=true
PROMPTCRAFT_SANITIZE_OUTPUT=true
PROMPTCRAFT_MAX_INPUT_LENGTH=5000
PROMPTCRAFT_RATE_LIMIT_REQUESTS=100
PROMPTCRAFT_RATE_LIMIT_WINDOW=3600

# SSL/TLS Configuration
PROMPTCRAFT_FORCE_HTTPS=true
PROMPTCRAFT_SSL_CERT_PATH=/etc/ssl/certs/promptcraft.crt
PROMPTCRAFT_SSL_KEY_PATH=/etc/ssl/private/promptcraft.key

# ============================================================================
# MONITORING & LOGGING (Non-sensitive endpoints)
# ============================================================================
PROMPTCRAFT_METRICS_ENDPOINT=https://metrics.company.com/promptcraft
PROMPTCRAFT_LOG_ENDPOINT=https://logs.company.com/promptcraft
PROMPTCRAFT_HEALTH_CHECK_ENDPOINT=/health

# Sentry DSN (public, but should still be managed securely)
# SENTRY_DSN should be retrieved from secret store in production

# ============================================================================
# EXAMPLES OF WHAT NOT TO DO (❌ NEVER DO THIS IN PRODUCTION)
# ============================================================================

# ❌ DON'T: Store actual API keys
# OPENAI_API_KEY=sk-1234567890abcdef...

# ❌ DON'T: Store database passwords
# DATABASE_PASSWORD=supersecret123

# ❌ DON'T: Store encryption keys
# ENCRYPTION_KEY=abc123def456...

# ❌ DON'T: Store JWT secrets
# JWT_SECRET=mysecretkey

# ❌ DON'T: Store third-party tokens
# GITHUB_TOKEN=ghp_1234567890...

# ============================================================================
# SECURE ALTERNATIVES (✅ DO THIS INSTEAD)
# ============================================================================

# ✅ DO: Reference secret store locations
SECRET_STORE_TYPE=aws_secrets_manager
SECRET_STORE_REGION=us-east-1
SECRET_STORE_PREFIX=promptcraft/production

# ✅ DO: Use service authentication
USE_IAM_ROLES=true
USE_MANAGED_IDENTITY=true
USE_SERVICE_ACCOUNT=true

# ✅ DO: Enable audit logging
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_LEVEL=info

# ✅ DO: Set security headers
SECURITY_HEADERS_ENABLED=true
CONTENT_SECURITY_POLICY=default-src 'self'
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff

# ============================================================================
# DEVELOPMENT OVERRIDES (for local development only)
# ============================================================================
# These should only be used in development environments
# and should be overridden by secure methods in production

# Development-only: Allow insecure settings for local testing
# PROMPTCRAFT_ALLOW_HTTP=true  # Only for development!
# PROMPTCRAFT_SKIP_SSL_VERIFY=true  # Only for development!

# ============================================================================
# DEPLOYMENT SPECIFIC SETTINGS
# ============================================================================

# Container orchestration
CONTAINER_RUNTIME=docker
ORCHESTRATOR=kubernetes

# Load balancer configuration
LOAD_BALANCER_TYPE=nginx
LOAD_BALANCER_CONFIG_PATH=/etc/nginx/conf.d/promptcraft.conf

# Backup configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# ============================================================================
# COMPLIANCE & GOVERNANCE
# ============================================================================
COMPLIANCE_MODE=strict
DATA_CLASSIFICATION=confidential
RETENTION_POLICY=7years
ENCRYPTION_AT_REST=true
ENCRYPTION_IN_TRANSIT=true

# ============================================================================
# NOTES FOR OPERATIONS TEAM
# ============================================================================
# 1. All secrets should be stored in the configured secret management system
# 2. This file should be reviewed and approved by security team
# 3. Regular rotation of secrets should be automated
# 4. Access to secrets should follow principle of least privilege
# 5. All secret access should be logged and monitored
# 6. Emergency procedures should be documented for secret compromise
# ============================================================================